---
const { pregunta, opciones } = Astro.props;
import ResponseBox from './ResponseBox.astro';
---
<div class="relative m-10 flex flex-col justify-between border-4 text-xl font-pixelify rounded-xl p-7 bg-[#FAF9D9] border-orange-500 w-3/5 h-56">
  <div class="mt-3" id="typing-text">
  </div>
  <button class="w-36 self-end bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded">
    aceptar
  </button>

  <div class="absolute top-[-20px] flex gap-3">
    {opciones.map((opcion, index) => (
       <ResponseBox opcion={`${opcion.letra}`} texto={`${opcion.texto}`} />
      ))}
  </div>
  
</div>

<script is:inline define:vars={{ pregunta }}>
  document.addEventListener('DOMContentLoaded', () => {
    const text = pregunta;
    const typingSpeed = 35; 
    let i = 0;

    function typeWriter() {
      if (i < text.length) {
        document.getElementById("typing-text").innerHTML += text.charAt(i);
        i++;
        setTimeout(typeWriter, typingSpeed);
      }
    }

    // Inicia el efecto de escritura
    typeWriter();
  });
</script>
